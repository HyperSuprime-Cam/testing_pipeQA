#<?cfg paf dictionary ?>
#
# Dictionary for pipeQa
#
definitions: {

    shapeAlgorithm: {
        type: string
        description: "Shape Algorithm to load."
        maxOccurs: 1
        default: "HSM_REGAUSS"
        allowed: {
            value:        "HSM_REGAUSS"
            description:  "Hirata-Seljac-Mandelbaum Regaussianization"
        }
        allowed: {
            value:        "HSM_BJ"
            description:  "Hirata-Seljac-Mandelbaum Bernstein&Jarvis"
        }
        allowed: {
            value:        "HSM_LINEAR"
            description:  "Hirata-Seljac-Mandelbaum Linear"
        }
        allowed: {
            value:        "HSM_KSB"
            description:  "Hirata-Seljac-Mandelbaum KSB"
        }
        allowed: {
            value:        "HSM_SHAPELET"
            description:  "Hirata-Seljac-Mandelbaum SHAPELET"
        }
    }

    doZptQa: {
        type: string
        description: "Photometric Zeropoint: qaAnalysis.ZeropointQaAnalysis"
        maxOccurs: 4
        default: "none"
    }

    zptQaMetricMin: {
        type: double
        description: "Metric used to evaluate quality of photometric zeropoint"
        maxOccurs: 1
        default: -3.0
    }

    zptQaMetricMax: {
        type: double
        description: "Metric used to evaluate quality of photometric zeropoint"
        maxOccurs: 1
        default: 3.0
    }

    ###
    
    doZptFitQa: {
        type: string
        description: "Photometric Zeropoint: qaAnalysis.ZeropointFitQa"
        maxOccurs: 4
        default: "lsstSim" "cfht" "coadd"
    }

    zptFitQaOffsetMin: {
        type: double
        description: "Median offset of stars from zeropoint fit; minimum good value"
        maxOccurs: 1
        default: -0.05
    }

    zptFitQaOffsetMax: {
        type: double
        description: "Median offset of stars from zeropoint fit; maximum good value"
        maxOccurs: 1
        default: 0.05
    }

    ###
    
    doEmptySectorQa: {
        type: string
        description: "Empty Sectors: qaAnalysis.EmptySectorQaAnalysis"
        maxOccurs: 1
        maxOccurs: 6
        default: "lsstSim" "hscSim" "suprimecam" "cfht" "sdss" "coadd"
    }

    emptySectorMaxMissing: {
        type: integer
        description: "Maximum number of missing CCDs"
        maxOccurs: 1
        default: 1
    }

    ###
    
    doAstromQa: {
        type: string
        description: "Astrometric Error: qaAnalysis.AstrometricErrorQaAnalysis"
        maxOccurs: 6
        default: "lsstSim" "hscSim" "suprimecam" "cfht" "sdss" "coadd"
    }

    astromQaMaxErr: {
        type: double
        description: "Maximum astrometric error (in arcseconds)"
        maxOccurs: 1
        default: 0.5
    }

    ###
       
    doPhotCompareQa: {
        type: string
        description: "Photometric Error: qaAnalysis.PhotCompareQaAnalysis"
        maxOccurs: 1
        maxOccurs: 6
        default: "lsstSim" "hscSim" "suprimecam" "cfht" "sdss" "coadd"
    }

    photCompareTypes: {
        type: string
        description: "Photometric Error: qaAnalysis.PhotCompareQaAnalysis"
        maxOccurs: 8
        default: "psf cat" "psf ap" "ap cat" "psf inst" "psf mod" "mod cat"
        allowed: {
            value:        "psf cat"
            description:  "Compare Psf magnitudes to catalog magnitudes"
        }
        allowed: {
            value:        "psf ap"
            description:  "Compare Psf and aperture magnitudes"
        }
        allowed: {
            value:        "psf mod"
            description:  "Compare Psf and model magnitudes"
        }
        allowed: {
            value:        "ap cat"
            description:  "Compare Psf and model magnitudes"
        }
        allowed: {
            value:        "psf inst"
            description:  "Compare PSF and instrument magnitudes"
        }
        allowed: {
            value:        "inst cat"
            description:  "Compare Inst (Gaussian) and catalog magnitudes"
        }
        allowed: {
            value:        "mod cat"
            description:  "Compare model and catalog magnitudes"
        }
        allowed: {
            value:        "mod inst"
            description:  "Separate stars/gxys for model and inst (Gaussian) magnitudes"
        }

    }
 
    photCompareMagCut: {
        type: double
        description: "Faintest magnitude for establishing photometric RMS"
        maxOccurs: 1
        default: 20.0
    }

    photCompareDeltaMin: {
        type: double
        description: "Minimum allowed delta"
        maxOccurs: 1
        default: -0.02
    }

    photCompareDeltaMax: {
        type: double
        description: "Maximum allowed delta"
        maxOccurs: 1
        default:  0.02
    }

    photCompareRmsMax: {
        type: double
        description: "Maximum allowed photometric RMS on bright end"
        maxOccurs: 1
        default:  0.02
    }

    photCompareDerrMax: {
        type: double
        description: "Maximum allowed error bar underestimate on bright end"
        maxOccurs: 1
        default:  0.01
    }

    photCompareSlopeMinSigma: {
        type: double
        description: "Minimum (positive valued) std.devs. of slope below slope=0"
        maxOccurs: 1
        default: 3.5
    }

    photCompareSlopeMaxSigma: {
        type: double
        description: "Maximum std.dev. of slope above slope=0"
        maxOccurs: 1
        default:  3.5
    }
    photCompareStarGalaxyToggle: {
        type: string
        description: "Make separate figures for stars and galaxies."
        maxOccurs: 8
        default: "mod cat" "inst cat" "ap cat" "psf cat"
        allowed: {
            value:        "psf cat"
            description:  "Separate stars/gxys for Psf magnitudes to catalog magnitudes"
        }
        allowed: {
            value:        "psf ap"
            description:  "Separate stars/gxys for Psf and aperture magnitudes"
        }
        allowed: {
            value:        "psf mod"
            description:  "Separate stars/gxys for Psf and model magnitudes"
        }
        allowed: {
            value:        "ap cat"
            description:  "Separate stars/gxys for Psf and model magnitudes"
        }
        allowed: {
            value:        "psf inst"
            description:  "Separate stars/gxys for PSF and instrument magnitudes"
        }
        allowed: {
            value:        "inst cat"
            description:  "Separate stars/gxys for Inst (Gaussian) and catalog magnitudes"
        }
        allowed: {
            value:        "mod cat"
            description:  "Separate stars/gxys for model and catalog magnitudes"
        }
        allowed: {
            value:        "mod inst"
            description:  "Separate stars/gxys for model and inst (Gaussian) magnitudes"
        }

    }

    ###

    doPsfShapeQa: {
        type: string
        description: "Psf Shape: qaAnalysis.PsfShapeQaAnalysis"
        maxOccurs: 6
        default: "lsstSim" "hscSim" "suprimecam" "cfht" "sdss" "coadd"
    }

    psfEllipMax: {
        type: double
        description: "Maximum median ellipticity"
        maxOccurs: 1
        default: 0.2
    }

    psfFwhmMax: {
        type: double
        description: "Maximum Psf Fwhm (arcsec)"
        maxOccurs: 1
        default: 2.0
    }

    ###

    doCompleteQa: {
        type: string
        description: "Photometric Depth: qaAnalysis.CompletenessQa"
        maxOccurs: 5
        default: "lsstSim" "cfht" "sdss" "coadd"
    }

    completeMinMag: {
        type: double
        description: "Minimum photometric depth"
        maxOccurs: 1
        default: 20.0
    }

    completeMaxMag: {
        type: double
        description: "Maximum reasonable photometric depth"
        maxOccurs: 1
        default: 99.0
    }

    ###

    doVignettingQa: {
        type: string
        description: "Vignetting testing: qaAnalysis.VignettingQa"
        maxOccurs: 6
        default: "lsstSim" "cfht" "suprimecam" "hscSim" "sdss" "coadd"
    }

    vigMaxMedian: {
        type: double
        description: "Maximum median magnitude offset"
        maxOccurs: 1
        default: 0.02
    }

    vigMagRms: {
        type: double
        description: "Maximum magnitude offset RMS"
        maxOccurs: 1
        default: 0.02
    }

    vigMaxMag: {
        type: double
        description: "Maximum magnitude star to use in VignettingQa test"
        maxOccurs: 1
        default: 19.0
    }

    ###

    doFwhm: {
        type: string
        description: "Fwhm: qaAnalysis.FwhmQaAnalysis"
        maxOccurs: 4
        default: "none"
    }    

    ###

    doVisitQa: {
        type: string
        description: "Visit to visit: qaAnalysis.VisitToVisitPhotQaAnalysis and qaAnalysis.VisitToVisitAstromQaAnalysis"
        maxOccurs: 1
        default: "none"
    }    

    visitQaMagTypes: {
        type: string
        description: "Make separate figures for different magnitude types" 
        maxOccurs: 8
        default: "ap" "psf" "inst" "mod"
        allowed: {
            value:        "ap"
            description:  "Compare aperture mags"
        }
        allowed: {
            value:        "psf"
            description:  "Compare PSF mags"
        }
        allowed: {
            value:        "inst"
            description:  "Compare instrumental mags"
        }
        allowed: {
            value:        "mod"
            description:  "Compare model mags"
        }

    }

    visitQaMagCut: {
        type: double
        description: "Faintest magnitude for establishing photometric RMS"
        maxOccurs: 1
        default: 20.0
    }

    visitQaPhotDeltaMin: {
        type: double
        description: "Minimum allowed delta"
        maxOccurs: 1
        default: -0.02
    }

    visitQaPhotDeltaMax: {
        type: double
        description: "Maximum allowed delta"
        maxOccurs: 1
        default:  0.02
    }

    visitQaPhotRmsMax: {
        type: double
        description: "Maximum allowed photometric RMS on bright end"
        maxOccurs: 1
        default:  0.02
    }

}
